(self.webpackChunkMultiCash=self.webpackChunkMultiCash||[]).push([[8708],{7116:(s,e,o)=>{"use strict";o.r(e),o.d(e,{SecurityPageModule:()=>b});var r=o(8583),t=o(665),n=o(1575),a=o(3083),i=o(9445),d=o(4762),c=o(2468),w=o(3313),l=o(639),u=o(6578),p=o(9709),g=o(9527),h=o(6945),Z=o(1354);const f=["securitySwiper"],P=function(){return[!0,!1]};function A(s,e){if(1&s){const s=l.EpF();l.TgZ(0,"div",3),l.TgZ(1,"app-title",4),l.NdJ("backEvent",function(){return l.CHM(s),l.oxw().changeSlide("home")}),l.qZA(),l.TgZ(2,"app-button-link",5),l.NdJ("click",function(){return l.CHM(s),l.oxw().changeSlide("next")}),l.qZA(),l.qZA()}2&s&&(l.xp6(1),l.Q6J("title","Seguridad")("arrows",l.DdM(5,P)),l.xp6(1),l.Q6J("icon","b")("label","Actualizar contrase\xf1a")("outline","both"))}function v(s,e){if(1&s&&(l.TgZ(0,"div"),l.TgZ(1,"p",21),l._uU(2),l.qZA(),l.qZA()),2&s){const s=l.oxw(3);l.xp6(2),l.HOy(" ",s.newPassword.match("[A-Z]")?"":"Mayuscula faltante,"," ",s.newPassword.match("[a-z]")?"":"Miniscula faltante,"," ",s.newPassword.match("[$@$!.:#/+=^-_%*?&]")?"":"Caracter especial faltante,"," ",s.newPassword.match("[a-zA-Z0-9]{8,}")?"":"Minimo 8 caracteres"," verifica tu contrase\xf1a. ")}}function M(s,e){if(1&s&&(l.TgZ(0,"div"),l.TgZ(1,"p",21),l._uU(2),l.qZA(),l.YNc(3,v,3,4,"div",16),l.qZA()),2&s){l.oxw();const s=l.MAs(15);l.xp6(2),l.hij(" ",s.errors.required?"Contrase\xf1a requerida":""," "),l.xp6(1),l.Q6J("ngIf",s.errors.pattern)}}function m(s,e){if(1&s&&(l.TgZ(0,"div"),l.TgZ(1,"p",21),l._uU(2),l.qZA(),l.qZA()),2&s){l.oxw();const s=l.MAs(26),e=l.oxw();l.xp6(2),l.AsE(" ",s.errors.required?"Contrase\xf1a requerida":""," ",e.newPassword!=e.confirmPassword?"Las contrase\xf1as deben ser iguales":""," ")}}const q=function(){return{updateOn:"change"}};function x(s,e){if(1&s){const s=l.EpF();l.TgZ(0,"div",3),l.TgZ(1,"app-title",4),l.NdJ("backEvent",function(){return l.CHM(s),l.oxw().changeSlide("back")}),l.qZA(),l.TgZ(2,"form"),l.TgZ(3,"div",6),l.TgZ(4,"label",7),l._uU(5,"Contrase\xf1a actual"),l.qZA(),l.TgZ(6,"input",8),l.NdJ("ngModelChange",function(e){return l.CHM(s),l.oxw().oldPassword=e}),l.qZA(),l.TgZ(7,"div",9),l.TgZ(8,"img",10),l.NdJ("click",function(){l.CHM(s);const e=l.oxw();return e.showPassword=!e.showPassword}),l.qZA(),l.TgZ(9,"img",11),l.NdJ("click",function(){l.CHM(s);const e=l.oxw();return e.showPassword=!e.showPassword}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(10,"label"),l._uU(11,"Nueva contrase\xf1a"),l.qZA(),l.TgZ(12,"div",12),l.TgZ(13,"div",6),l.TgZ(14,"input",13,14),l.NdJ("ngModelChange",function(e){return l.CHM(s),l.oxw().newPassword=e}),l.qZA(),l.TgZ(16,"div",9),l.TgZ(17,"img",10),l.NdJ("click",function(){l.CHM(s);const e=l.oxw();return e.showPassword2=!e.showPassword2}),l.qZA(),l.TgZ(18,"img",11),l.NdJ("click",function(){l.CHM(s);const e=l.oxw();return e.showPassword2=!e.showPassword2}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(19,"div",15),l.YNc(20,M,4,2,"div",16),l.qZA(),l.qZA(),l.TgZ(21,"label"),l._uU(22,"Confirmar nueva contrase\xf1a"),l.qZA(),l.TgZ(23,"div",12),l.TgZ(24,"div",6),l.TgZ(25,"input",17,18),l.NdJ("ngModelChange",function(e){return l.CHM(s),l.oxw().confirmPassword=e}),l.qZA(),l.TgZ(27,"div",9),l.TgZ(28,"img",10),l.NdJ("click",function(){l.CHM(s);const e=l.oxw();return e.showPassword3=!e.showPassword3}),l.qZA(),l.TgZ(29,"img",11),l.NdJ("click",function(){l.CHM(s);const e=l.oxw();return e.showPassword3=!e.showPassword3}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(30,"div",15),l.YNc(31,m,3,2,"div",16),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(32,"div",19),l.TgZ(33,"app-button",20),l.NdJ("click",function(){l.CHM(s);const e=l.MAs(15),o=l.MAs(26),r=l.oxw();return r.newPassword==r.confirmPassword&&e.valid&&o.valid&&r.updatePassword()}),l.qZA(),l.qZA()}if(2&s){const s=l.MAs(15),e=l.MAs(26),o=l.oxw();l.xp6(1),l.Q6J("title","Actualizar contrase\xf1a")("arrows",l.DdM(26,P)),l.xp6(5),l.Q6J("type",o.showPassword?"text":"password")("ngModel",o.oldPassword),l.xp6(2),l.ekj("hide",o.showPassword),l.xp6(1),l.ekj("hide",!o.showPassword),l.xp6(5),l.Q6J("type",o.showPassword2?"text":"password")("ngModel",o.newPassword)("ngModelOptions",l.DdM(27,q)),l.xp6(3),l.ekj("hide",o.showPassword2),l.xp6(1),l.ekj("hide",!o.showPassword2),l.xp6(2),l.Q6J("ngIf",s.invalid&&(s.dirty||s.touched)),l.xp6(5),l.Q6J("type",o.showPassword3?"text":"password")("ngModel",o.confirmPassword)("ngModelOptions",l.DdM(28,q)),l.xp6(3),l.ekj("hide",o.showPassword3),l.xp6(1),l.ekj("hide",!o.showPassword3),l.xp6(2),l.Q6J("ngIf",e.invalid&&(e.dirty||e.touched)),l.xp6(2),l.Q6J("label","Actualizar")("disable",!(o.newPassword==o.confirmPassword&&s.valid&&e.valid))}}c.ZP.use([c.eZ]);const C=[{path:"",component:(()=>{class s{constructor(s,e,o,r){this.navCtrl=s,this.storage=e,this.userService=o,this.modalCtrl=r,this.config={slidesPerView:1,spaceBetween:400,allowTouchMove:!1},this.showPassword2=!1,this.showPassword3=!1,this.passwordsAreEquals=!0}ngOnInit(){}showHidePassword(){this.showPassword=!this.showPassword}changeSlide(s){switch(s){case"home":this.navCtrl.navigateForward("/dashboard");break;case"next":this.swiper.swiperRef.slideNext(500);break;case"back":this.swiper.swiperRef.slidePrev(500)}}updatePassword(){return(0,d.mG)(this,void 0,void 0,function*(){if(this.passwordsAreEquals=this.newPassword==this.confirmPassword,console.log(this.passwordsAreEquals),this.newPassword===this.confirmPassword){let s=yield this.storage.get(this.storage.getMemo().CURRENT_USER);s.newPassword=this.newPassword,s.newPasswordRepeat=this.confirmPassword,s.oldPassword=this.oldPassword,this.userService.updatePassword(s,s=>{s?(console.log("success"),this.presentModal()):console.log("error")})}})}presentModal(){return(0,d.mG)(this,void 0,void 0,function*(){const s=yield this.modalCtrl.create({component:w.c,cssClass:"info-modal",componentProps:{title:"Success",content:"Su contrase\xf1a se actualiz\xf3 con \xe9xito",btnLabel:"Entendido"}});return yield s.present()})}}return s.\u0275fac=function(e){return new(e||s)(l.Y36(a.SH),l.Y36(u.V),l.Y36(p.K),l.Y36(a.IN))},s.\u0275cmp=l.Xpm({type:s,selectors:[["app-security"]],viewQuery:function(s,e){if(1&s&&l.Gf(f,5),2&s){let s;l.iGM(s=l.CRH())&&(e.swiper=s.first)}},decls:5,vars:2,consts:[[3,"config","virtual"],["securitySwiper",""],["swiperSlide",""],[1,"swiper-slide__container"],[3,"title","arrows","backEvent"],[3,"icon","label","outline","click"],[1,"form__password"],["for",""],["name","currentPassword","placeholder","Contrase\xf1a",1,"input",3,"type","ngModel","ngModelChange"],[1,"icon"],["src","assets/icon/password/show-password.svg","alt","",3,"click"],["src","assets/icon/password/hide-password.svg","alt","",3,"click"],[1,"input-group","col-6","mx-auto"],["name","newPassword","placeholder","Nueva Contrase\xf1a","pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[$@$!.:#/+=^_%*?&\\-])([A-Za-z\\d$@$!%*?&]|[^ ]){8,}$","required","",3,"type","ngModel","ngModelOptions","ngModelChange"],["passeorderror","ngModel"],[1,"msg_alert"],[4,"ngIf"],["name","confirmPassword","placeholder","Contrase\xf1a","pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[$@$!.:#/+=^_%*?&\\-])([A-Za-z\\d$@$!%*?&]|[^ ]){8,}$","required","",3,"type","ngModel","ngModelOptions","ngModelChange"],["veriPassworderror","ngModel"],[1,"security__btn"],[3,"label","disable","click"],[1,"alert"]],template:function(s,e){1&s&&(l.TgZ(0,"ion-content"),l.TgZ(1,"swiper",0,1),l.YNc(3,A,3,6,"ng-template",2),l.YNc(4,x,34,29,"ng-template",2),l.qZA(),l.qZA()),2&s&&(l.xp6(1),l.Q6J("config",e.config)("virtual",!0))},directives:[a.W2,n.nF,n.YC,g.r,h.j,t._Y,t.JL,t.F,t.Fj,t.JJ,t.On,t.c5,t.Q7,r.O5,Z.r],styles:[".security__btn[_ngcontent-%COMP%]{margin-bottom:var(--margin-btn)}"]}),s})()}];let T=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=l.oAB({type:s}),s.\u0275inj=l.cJS({imports:[[i.Bz.forChild(C)],i.Bz]}),s})();var k=o(5642);let b=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=l.oAB({type:s}),s.\u0275inj=l.cJS({imports:[[r.ez,t.u5,a.Pc,n.kz,k.K,T]]}),s})()}}]);