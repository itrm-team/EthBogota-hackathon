(self.webpackChunkMultiCash=self.webpackChunkMultiCash||[]).push([[7268],{9527:(e,t,n)=>{"use strict";n.d(t,{r:()=>a});var o=n(639),s=n(8583);function i(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",4),o.NdJ("click",function(){return o.CHM(e),o.oxw().backClicked()}),o._uU(1," < "),o.qZA()}}function r(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",5),o.NdJ("click",function(){return o.CHM(e),o.oxw().nextClicked()}),o._uU(1," > "),o.qZA()}}let a=(()=>{class e{constructor(){this.title="Titulo",this.arrows=[!0,!0],this.style="",this.backEvent=new o.vpe,this.nextEvent=new o.vpe}ngOnInit(){}backClicked(){this.backEvent.emit()}nextClicked(){this.nextEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-title"]],inputs:{title:"title",arrows:"arrows",style:"style"},outputs:{backEvent:"backEvent",nextEvent:"nextEvent"},decls:5,vars:5,consts:[[1,"title"],[1,"title__content"],["class","title__btn left",3,"click",4,"ngIf"],["class","title__btn right",3,"click",4,"ngIf"],[1,"title__btn","left",3,"click"],[1,"title__btn","right",3,"click"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"h1",1),o._uU(2),o.qZA(),o.YNc(3,i,2,0,"div",2),o.YNc(4,r,2,0,"div",3),o.qZA()),2&e&&(o.Tol(t.style),o.xp6(2),o.hij(" ",t.title," "),o.xp6(1),o.Q6J("ngIf",t.arrows[0]),o.xp6(1),o.Q6J("ngIf",t.arrows[1]))},directives:[s.O5],styles:["[_nghost-%COMP%]{width:100%}.title[_ngcontent-%COMP%]{position:relative;font-family:var(--font-work);width:100%;margin-bottom:30px;color:var(--color-title)}.title[_ngcontent-%COMP%]   .title__content[_ngcontent-%COMP%]{font-size:var(--fontSize-title);font-weight:300;width:100%;text-align:center;margin:0}.title[_ngcontent-%COMP%]   .title__btn[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.title[_ngcontent-%COMP%]   .title__btn.left[_ngcontent-%COMP%]{left:0}.title[_ngcontent-%COMP%]   .title__btn.right[_ngcontent-%COMP%]{right:0}.title.light[_ngcontent-%COMP%]{color:var(--color-light)}"]}),e})()},7268:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RecuperarContrasenaPageModule:()=>U});var o=n(8583),s=n(665),i=n(3083),r=n(9445),a=n(4762),d=n(2468),c=n(3313),l=n(639),u=n(1228),p=n(6578),g=n(9709),h=n(1575),w=n(9527),v=n(1354);const f=["recoverPasswordSwiper"];function m(e,t){1&e&&(l.TgZ(0,"div"),l.TgZ(1,"label"),l._uU(2,"1. Cu\xe1l era el nombre de tu mascota de la infancia?"),l.qZA(),l.qZA())}function Z(e,t){1&e&&(l.TgZ(0,"div"),l.TgZ(1,"label"),l._uU(2,"2. D\xf3nde estudiaste la primaria?"),l.qZA(),l.qZA())}function q(e,t){1&e&&(l.TgZ(0,"div"),l.TgZ(1,"label"),l._uU(2,"3. Cu\xe1l es su banda o artista favorito?"),l.qZA(),l.qZA())}function C(e,t){1&e&&(l.TgZ(0,"div"),l.TgZ(1,"label"),l._uU(2,"4. Nombre de la empresa donde trabajo por primera vez?"),l.qZA(),l.qZA())}function M(e,t){if(1&e&&(l.TgZ(0,"div"),l.TgZ(1,"p",15),l._uU(2),l.qZA(),l.qZA()),2&e){l.oxw();const e=l.MAs(12);l.xp6(2),l.hij(" ",e.errors.required?"Este campo es requerido":""," ")}}function A(e,t){1&e&&(l.TgZ(0,"div"),l.TgZ(1,"label"),l._uU(2,"1. \xbfCu\xe1l era el nombre de tu mascota de la infancia?"),l.qZA(),l.qZA())}function _(e,t){1&e&&(l.TgZ(0,"div"),l.TgZ(1,"label"),l._uU(2,"2. \xbfD\xf3nde estudiaste la primaria?"),l.qZA(),l.qZA())}function b(e,t){1&e&&(l.TgZ(0,"div"),l.TgZ(1,"label"),l._uU(2,"3. \xbfCu\xe1l es su banda o artista favorito?"),l.qZA(),l.qZA())}function T(e,t){1&e&&(l.TgZ(0,"div"),l.TgZ(1,"label"),l._uU(2,"4. \xbfNombre de la empresa donde trabajo por primera vez?"),l.qZA(),l.qZA())}function P(e,t){if(1&e&&(l.TgZ(0,"div"),l.TgZ(1,"p",15),l._uU(2),l.qZA(),l.qZA()),2&e){l.oxw();const e=l.MAs(21);l.xp6(2),l.hij(" ",e.errors.required?"Este campo es requerido":""," ")}}const x=function(){return[!0,!1]},k=function(){return{updateOn:"change"}};function y(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",3),l.TgZ(1,"app-title",4),l.NdJ("backEvent",function(){return l.CHM(e),l.oxw().changeSlide("home")}),l.qZA(),l.TgZ(2,"form",null,5),l.TgZ(4,"p",6),l._uU(5,"Responde a tus preguntas de seguridad para crear una nueva contrase\xf1a"),l.qZA(),l.TgZ(6,"div"),l.YNc(7,m,3,0,"div",7),l.YNc(8,Z,3,0,"div",7),l.YNc(9,q,3,0,"div",7),l.YNc(10,C,3,0,"div",7),l.qZA(),l.TgZ(11,"input",8,9),l.NdJ("ngModelChange",function(t){return l.CHM(e),l.oxw().account.questionR1=t}),l.qZA(),l.TgZ(13,"div",10),l.YNc(14,M,3,1,"div",7),l.qZA(),l.TgZ(15,"div"),l.YNc(16,A,3,0,"div",7),l.YNc(17,_,3,0,"div",7),l.YNc(18,b,3,0,"div",7),l.YNc(19,T,3,0,"div",7),l.qZA(),l.TgZ(20,"input",11,12),l.NdJ("ngModelChange",function(t){return l.CHM(e),l.oxw().account.questionR2=t}),l.qZA(),l.TgZ(22,"div",10),l.YNc(23,P,3,1,"div",7),l.qZA(),l.qZA(),l.qZA(),l.TgZ(24,"div",13),l.TgZ(25,"app-button",14),l.NdJ("click",function(){l.CHM(e);const t=l.MAs(12),n=l.MAs(21),o=l.oxw();return t.valid&&n.valid&&o.questions()}),l.qZA(),l.qZA()}if(2&e){const e=l.MAs(12),t=l.MAs(21),n=l.oxw();l.xp6(1),l.Q6J("title","Preguntas de seguridad")("arrows",l.DdM(22,x)),l.xp6(6),l.Q6J("ngIf",1==n.selectedOption),l.xp6(1),l.Q6J("ngIf",2==n.selectedOption),l.xp6(1),l.Q6J("ngIf",3==n.selectedOption),l.xp6(1),l.Q6J("ngIf",4==n.selectedOption),l.xp6(1),l.ekj("alert",n.displayControl(e)),l.Q6J("ngModel",n.account.questionR1)("ngModelOptions",l.DdM(23,k)),l.xp6(3),l.Q6J("ngIf",n.displayControl(e)),l.xp6(2),l.Q6J("ngIf",1==n.selectedOption2),l.xp6(1),l.Q6J("ngIf",2==n.selectedOption2),l.xp6(1),l.Q6J("ngIf",3==n.selectedOption2),l.xp6(1),l.Q6J("ngIf",4==n.selectedOption2),l.xp6(1),l.ekj("alert",n.displayControl(t)),l.Q6J("ngModel",n.account.questionR2)("ngModelOptions",l.DdM(24,k)),l.xp6(3),l.Q6J("ngIf",n.displayControl(t)),l.xp6(2),l.Q6J("label","Continuar")("disable",!(e.valid&&t.valid))}}function O(e,t){if(1&e&&(l.TgZ(0,"div"),l.TgZ(1,"p",15),l._uU(2),l.qZA(),l.qZA()),2&e){const e=l.oxw(3);l.xp6(2),l.xDo(" ",e.newPassword.match("[A-Z]")?"":"May\xfascula faltante,"," ",e.newPassword.match("[a-z]")?"":"Min\xfascula faltante,"," ",e.newPassword.match("[0-9]")?"":"N\xfamero faltante,"," ",e.newPassword.match("[$@!.:,/#_%=&+?*^-]")?"":"Caracter especial faltante,"," ",e.newPassword.match("[A-Za-z0-9d$@!.:,/#_%=&+?*^-]{8,}")?"":"Minimo 8 caracteres"," verifica tu contrase\xf1a. ")}}function J(e,t){if(1&e&&(l.TgZ(0,"div"),l.TgZ(1,"p",15),l._uU(2),l.qZA(),l.YNc(3,O,3,5,"div",7),l.qZA()),2&e){l.oxw();const e=l.MAs(13);l.xp6(2),l.hij(" ",e.errors.required?"Contrase\xf1a requerida":""," "),l.xp6(1),l.Q6J("ngIf",e.errors.pattern)}}function N(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",3),l.TgZ(1,"app-title",4),l.NdJ("backEvent",function(){return l.CHM(e),l.oxw().changeSlide("home")}),l.qZA(),l.TgZ(2,"form",null,16),l.TgZ(4,"p",6),l._uU(5,"Debe contener al menos 8 car\xe1cteres, 1 may\xfascula,"),l._UZ(6,"br"),l._uU(7,"1 min\xfascula, 1 n\xfamero y 1 caracter especial."),l.qZA(),l.TgZ(8,"label"),l._uU(9,"Contrase\xf1a"),l.qZA(),l.TgZ(10,"div",17),l.TgZ(11,"div",18),l.TgZ(12,"input",19,20),l.NdJ("ngModelChange",function(t){return l.CHM(e),l.oxw().newPassword=t}),l.qZA(),l.TgZ(14,"div",21),l.TgZ(15,"img",22),l.NdJ("click",function(){l.CHM(e);const t=l.oxw();return t.showPassword=!t.showPassword}),l.qZA(),l.TgZ(16,"img",23),l.NdJ("click",function(){l.CHM(e);const t=l.oxw();return t.showPassword=!t.showPassword}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(17,"div",10),l.YNc(18,J,4,2,"div",7),l.qZA(),l.qZA(),l.TgZ(19,"label"),l._uU(20,"Verificaci\xf3n de contrase\xf1a"),l.qZA(),l.TgZ(21,"div",17),l.TgZ(22,"div",18),l.TgZ(23,"input",24,25),l.NdJ("ngModelChange",function(t){return l.CHM(e),l.oxw().retypepassword=t}),l.qZA(),l.TgZ(25,"div",21),l.TgZ(26,"img",22),l.NdJ("click",function(){l.CHM(e);const t=l.oxw();return t.showPassword2=!t.showPassword2}),l.qZA(),l.TgZ(27,"img",23),l.NdJ("click",function(){l.CHM(e);const t=l.oxw();return t.showPassword2=!t.showPassword2}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(28,"div",10),l.TgZ(29,"p",15),l._uU(30),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(31,"div",13),l.TgZ(32,"app-button",14),l.NdJ("click",function(){l.CHM(e);const t=l.MAs(13),n=l.MAs(24),o=l.oxw();return o.newPassword==o.retypepassword&&t.valid&&n.valid&&o.recoverPassword(o.token)}),l.qZA(),l.qZA()}if(2&e){const e=l.MAs(13),t=l.MAs(24),n=l.oxw();l.xp6(1),l.Q6J("title","Configura tu contrase\xf1a")("arrows",l.DdM(24,x)),l.xp6(11),l.ekj("alert",n.displayControl(e)),l.Q6J("type",n.showPassword?"text":"password")("ngModel",n.newPassword)("ngModelOptions",l.DdM(25,k)),l.xp6(3),l.ekj("hide",n.showPassword),l.xp6(1),l.ekj("hide",!n.showPassword),l.xp6(2),l.Q6J("ngIf",n.displayControl(e)),l.xp6(5),l.ekj("alert",(t.dirty||t.touched)&&n.newPassword!=n.retypepassword),l.Q6J("type",n.showPassword2?"text":"password")("ngModel",n.retypepassword)("ngModelOptions",l.DdM(26,k)),l.xp6(3),l.ekj("hide",n.showPassword2),l.xp6(1),l.ekj("hide",!n.showPassword2),l.xp6(3),l.hij(" ",(t.dirty||t.touched)&&n.newPassword!=n.retypepassword?"Las contrase\xf1as deben ser iguales":""," "),l.xp6(2),l.Q6J("label","Continuar")("disable",!(n.newPassword==n.retypepassword&&e.valid&&t.valid))}}d.ZP.use([d.eZ]);const E=[{path:"",component:(()=>{class e{constructor(e,t,n,o,s,i,r,a){this.route=e,this.router=t,this.toastCtrl=n,this.authService=o,this.navCtrl=s,this.storage=i,this.userService=r,this.modalCtrl=a,this.passwordValidated=!0,this.passwordsAreEquals=!0,this.isVisible=!1,this.showPassword2=!1,this.contadorLocal=1,this.selectedOption=0,this.actions=[{idquestion:0,name:"Select Question"},{idquestion:1,name:"1. Cu\xe1l era el nombre de tu mascota de la infancia?"},{idquestion:2,name:"2. D\xf3nde estudiaste la primaria?"},{idquestion:3,name:"3. Cu\xe1l es su banda o artista favorito?"},{idquestion:4,name:"4. Nombre de la empresa donde trabajo por primera vez?"}],this.selectedOption2=0,this.actions2=[{idquestion2:0,name2:"Select Question"},{idquestion2:1,name2:"1. Cu\xe1l era el nombre de tu mascota de la infancia?"},{idquestion2:2,name2:"2. D\xf3nde estudiaste la primaria?"},{idquestion2:3,name2:"3. Cu\xe1l es su banda o artista favorito?"},{idquestion2:4,name2:"4. Nombre de la empresa donde trabajo por primera vez?"}],this.config={slidesPerView:1,spaceBetween:400,allowTouchMove:!1},this.account={token:"",questionR1:"",questionR2:""}}ngOnInit(){this.route.queryParams.subscribe(e=>{if(e.token){this.token=e.token;try{this.authService.validateExternalToken(e.token),this.userData=this.authService.resolveToken(e),this.isVisible=!0,this.selectedOption=this.userData.numberQ1,this.selectedOption2=this.userData.numberQ2}catch(t){this.presentErrorToastString("INVALID ACCESS TOKEN")}}else this.presentErrorToastString("UNAUTHORIZED")})}showHidePassword(){this.showPassword=!this.showPassword}changeSlide(e){switch(e){case"home":this.navCtrl.navigateForward("");break;case"next":case"back":this.swiper.swiperRef.slideNext(500)}}presentErrorToastString(e){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e,position:"top",buttons:[{text:"OK",handler:()=>{this.router.navigateByUrl("")}}]})).present()})}sendAlertToast(e){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e,position:"top",buttons:[{text:"OK",handler:()=>{}}]})).present()})}checkPassword(e){return/^(?=.*[0-9])(?=.*[!@#$%^&\.*])[a-zA-Z0-9!@#\.$%^&*]{8,}$/.test(e)}questions(){this.account.questionR1==this.userData.questionR1&&this.account.questionR2==this.userData.questionR2?this.changeSlide("next"):this.contadorLocal<3?(this.presentModal(this.contadorLocal),this.contadorLocal+=1):(this.presentModalBlock(),this.userService.questions({email:this.userData.email,contador:this.contadorLocal}),this.navCtrl.navigateForward(""))}presentModal(e){return(0,a.mG)(this,void 0,void 0,function*(){const t=yield this.modalCtrl.create({component:c.c,cssClass:"info-modal",componentProps:{icon:"assets/images/pup_land/Wrong_password.svg",title:"Al menos una de las respuestas es incorrecta",content:"Te quedan "+(3-e)+" intentos",btnLabel:"Entendido"}});return yield t.present()})}presentModalBlock(){return(0,a.mG)(this,void 0,void 0,function*(){const e=yield this.modalCtrl.create({component:c.c,cssClass:"info-modal",componentProps:{icon:"assets/images/pup_land/Account_bloqued.svg",title:"Tu cuenta ha sido bloqueda",content:"Para recuperar acceso a tu cuenta escr\xedbenos a soporte@viio.me desde tu correo registrado. Te pediremos algunos datos para verificar titularidad de la cuenta",btnLabel:"Entendido"}});return yield e.present()})}presentModalSuccess(){return(0,a.mG)(this,void 0,void 0,function*(){const e=yield this.modalCtrl.create({component:c.c,cssClass:"info-modal",componentProps:{icon:"assets/images/pup_land/Confirmation_code.svg",title:"Contrase\xf1a creada",content:"Has recuperado el acceso a tu cuenta. Ingresa usando tu nueva contrase\xf1a.",btnLabel:"Continuar"}});return yield e.present()})}presentErrorToast(){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:"Respuestas incorrectas",duration:3e3,position:"top"})).present()})}recoverPassword(e){return(0,a.mG)(this,void 0,void 0,function*(){this.storage.getMemo(),this.passwordValidated=this.checkPassword(this.newPassword),this.passwordsAreEquals=this.newPassword==this.retypepassword,this.passwordValidated&&this.passwordsAreEquals?(this.userService.recover({email:this.userData.email,password:this.newPassword,retypepassword:this.retypepassword}).subscribe(e=>{},e=>{}),this.presentModalSuccess()):this.sendAlertToast("Las contrase\xf1as deben ser iguales"),this.navCtrl.navigateForward("")})}getUserPromise(e){return(0,a.mG)(this,void 0,void 0,function*(){yield this.userService.getUserPromise(e)})}displayControl(e){return e.invalid&&(e.dirty||e.touched)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(r.gz),l.Y36(r.F0),l.Y36(i.yF),l.Y36(u.e),l.Y36(i.SH),l.Y36(p.V),l.Y36(g.K),l.Y36(i.IN))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-recuperar-contrasena"]],viewQuery:function(e,t){if(1&e&&l.Gf(f,5),2&e){let e;l.iGM(e=l.CRH())&&(t.swiper=e.first)}},decls:5,vars:2,consts:[[3,"config","virtual"],["recoverPasswordSwiper",""],["swiperSlide",""],[1,"swiper-slide__container"],[3,"title","arrows","backEvent"],["securityForm","ngForm"],[1,"p","center","pad-b"],[4,"ngIf"],["type","text","name","recover_q1","autocomplete","off","pattern","[a-zA-Z 0-9._%+-]{1,15}","placeholder","Responde pregunta de seguridad","required","",3,"ngModel","ngModelOptions","ngModelChange"],["q1error","ngModel"],[1,"msg_alert"],["type","text","id","sign-up_q2","name","sign-up_q2","autocomplete","off","pattern","[a-zA-Z 0-9._%+-]{1,25}","placeholder","Responde pregunta de seguridad","required","",3,"ngModel","ngModelOptions","ngModelChange"],["q2error","ngModel"],[1,"recuperar__btn"],[3,"label","disable","click"],[1,"alert"],["passwordForm","ngForm"],[1,"input-group","col-6","mx-auto"],[1,"form__password"],["id","recover_password","name","recover_password","pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[\\$@!.:,/#_%=&\\+\\?\\*\\^\\-])([A-Za-z0-9\\$@!.:,/#_%=&\\+\\?\\*\\^\\-]|[^ ]){8,}$","required","",1,"form-control",3,"type","ngModel","ngModelOptions","ngModelChange"],["passworderror","ngModel"],[1,"icon"],["src","assets/icon/password/show-password.svg","alt","",3,"click"],["src","assets/icon/password/hide-password.svg","alt","",3,"click"],["id","sign-up_password-confirmation","name","sign_up_password-confirmation","required","",1,"form-control",3,"type","ngModel","ngModelOptions","ngModelChange"],["veriPassworderror","ngModel"]],template:function(e,t){1&e&&(l.TgZ(0,"ion-content"),l.TgZ(1,"swiper",0,1),l.YNc(3,y,26,25,"ng-template",2),l.YNc(4,N,33,27,"ng-template",2),l.qZA(),l.qZA()),2&e&&(l.xp6(1),l.Q6J("config",t.config)("virtual",!0))},directives:[i.W2,h.nF,h.YC,w.r,s._Y,s.JL,s.F,o.O5,s.Fj,s.c5,s.Q7,s.JJ,s.On,v.r],styles:[".recuperar__btn[_ngcontent-%COMP%]{margin-bottom:var(--margin-btn)}form[_ngcontent-%COMP%]   .hide[_ngcontent-%COMP%]{display:none}form[_ngcontent-%COMP%]   .inner-addon[_ngcontent-%COMP%]{position:relative}form[_ngcontent-%COMP%]   .left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:30px}form[_ngcontent-%COMP%]   .right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:30px}form[_ngcontent-%COMP%]   .cVerificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{float:left;position:inline}"]}),e})()}];let Q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[r.Bz.forChild(E)],r.Bz]}),e})();var S=n(5642);let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[o.ez,s.u5,i.Pc,Q,S.K,h.kz]]}),e})()}}]);